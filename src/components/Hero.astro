---
import TextReveal from './TextReveal.astro';
import Quote from './Quote.astro';
---

<section class="relative h-screen w-full bg-brand-slate flex items-center justify-center text-white overflow-hidden">
    <!-- Hero Image -->
    <div id="hero-bg" class="absolute inset-0 w-full h-full will-change-transform">
        <div class="absolute inset-0 bg-brand-slate/40 z-[1]"></div>
        <img
            src="/img/Terrasse-Beete-Stauden-Aussenkueche-Feuer-Abendstimmung-Tisch-Stuehle-Gaerten-des-Jahres-1024x683.jpg"
            alt="Wohnen im Garten - Blick aus der Terrassentür"
            class="w-full h-full object-cover opacity-80 scale-105 animate-subtle-zoom"
        />
    </div>

    <!-- Gradient Overlay -->
    <div class="absolute inset-0 bg-gradient-to-b from-brand-slate/30 via-transparent to-brand-slate z-[2]"></div>

    <!-- Content -->
    <div id="hero-text" class="relative z-10 text-center max-content px-6 will-change-transform">
        <div class="reveal-obs mb-2 md:mb-4"><TextReveal className="clamp-h1 font-serif">Die Partitur Ihres</TextReveal></div>
        <div class="reveal-obs"><TextReveal className="clamp-h1 font-serif italic text-brand-sand">Lebensraums</TextReveal></div>

        <p class="text-sm md:text-xl font-light italic opacity-80 mt-6 md:mt-10 reveal-obs max-w-xl mx-auto leading-relaxed text-cloud-dancer">
            Gaerten von Hoerschelmann orchestriert den Geist des Ortes zu einem lebendigen Unikat. Wir gestalten nicht nur Gärten, wir erschaffen Resonanzräume.
        </p>

        <Quote />

        <div class="mt-12 md:mt-16 reveal-obs flex flex-col sm:flex-row gap-4 md:gap-6 justify-center">
            <div class="magnetic-wrap">
                <a href="/werkschau" onmouseenter="window.setCursorMode(true)" onmouseleave="window.setCursorMode(false)" class="inline-block w-full sm:w-auto px-10 md:px-12 py-4 bg-white text-brand-dark uppercase text-[10px] font-black tracking-widest hover:bg-brand-earth hover:text-white transition-all shadow-premium">
                    Die Werkschau
                </a>
            </div>
            <div class="magnetic-wrap">
                <a href="/kontakt" onmouseenter="window.setCursorMode(true)" onmouseleave="window.setCursorMode(false)" class="inline-block w-full sm:w-auto px-10 md:px-12 py-4 border border-white/30 backdrop-blur-sm uppercase text-[10px] font-black tracking-widest text-white hover:bg-white hover:text-brand-dark transition-all">
                    Dialog eröffnen
                </a>
            </div>
        </div>
    </div>

    <!-- Scroll Hint -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 scroll-hint text-white/30 hidden md:block z-20">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="m7 13 5 5 5-5"/><path d="m7 6 5 5 5-5"/></svg>
    </div>
</section>

<script>
    // Parallax Effect
    const heroBg = document.getElementById('hero-bg');
    const heroText = document.getElementById('hero-text');

    window.addEventListener('scroll', () => {
        const y = window.scrollY;
        if (window.innerWidth < 1024) {
             if (heroBg) { heroBg.style.transform = `translate3d(0, ${y * 0.2}px, 0)`; }
             if (heroText) { heroText.style.transform = `translate3d(0, ${y * 0.4}px, 0)`; }
        }
    });

    window.addEventListener('mousemove', (e) => {
        if (heroBg && heroText && window.innerWidth >= 1024) {
            const moveX = (e.clientX - window.innerWidth/2) * 0.005;
            const moveY = (e.clientY - window.innerHeight/2) * 0.005;
            // Video parallax needs to be subtle
            heroBg.style.transform = `translate3d(${moveX}px, ${moveY}px, 0) scale(1.02)`;
            heroText.style.transform = `translate3d(${-moveX * 1.5}px, ${-moveY * 1.5}px, 0)`;
        }
    });
</script>
